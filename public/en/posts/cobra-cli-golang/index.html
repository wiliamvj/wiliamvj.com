<!DOCTYPE html>
<html lang="en" class="scroll-smooth dark">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>      

<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>The power of the CLI with Golang and Cobra CLI</title>


<meta name="description" content="" />
<meta name="author" content="map[homepage:https://wiliamvj.com name:Wiliam V. Joaquim]" />
<meta
  name="keywords"
  content="Golang, Go, GCP, Sql, Gorm, NestJS, Javascript, Typescript, AWS, SQS, RabbitMq, Kafka, microservices, brazilian devs, software developer, back-end, NodeJS, Unit tests, integration testes"
/>

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="//localhost:1313/en/posts/cobra-cli-golang/" />
<meta name="twitter:title" content="The power of the CLI with Golang and Cobra CLI" />
<meta name="twitter:description" content="" />
<meta name="twitter:image" content="//localhost:1313/posts/cobra-cli-golang/thumb_efefewfweGFH567.png" />
<meta name="twitter:domain" content="wiliamvj.com" />
<meta name="twitter:creator" content="@wiliamjoaquim" />
<meta name="twitter:image:alt" content="The power of the CLI with Golang and Cobra CLI" />
\
<meta property="og:type" content="article" />
<meta property="og:title" content="The power of the CLI with Golang and Cobra CLI" />
<meta property="og:site_name" content="Wiliam V. Joaquim - Software Developer'" />
<meta property="og:description" content="" />
<meta property="og:url" content="//localhost:1313/en/posts/cobra-cli-golang/" />
<meta property="og:image" content="//localhost:1313/posts/cobra-cli-golang/thumb_efefewfweGFH567.png" />
<meta property="og:image:alt" content="The power of the CLI with Golang and Cobra CLI" />


<meta
  name="apple-mobile-web-app-title"
  content="The power of the CLI with Golang and Cobra CLI"
/>
<meta
  name="description"
  content="Today we are going to see all the power that a CLI (Command line interface) can bring to development, a CLI can help us perform tasks more effectively and lightly through commands via terminal, without needing an interface."
/>
<link
  rel="apple-touch-icon"
  sizes="180x180"
  href="/icons/apple-touch.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="/icons/favicon-32x32.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="/icons/favicon-16x16.png"
/>
<link rel="canonical" href="//localhost:1313/en/posts/cobra-cli-golang/" />
<link rel="robots" href="/robots.txt" />
<link rel="icon" type="image/x-icon" href="/icons/favicon.ico" />


<script
  defer
  src="https://www.googletagmanager.com/gtag/js?id=G-TG8KZ9PQBT"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'G-TG8KZ9PQBT');
</script>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });</script>

<link rel="stylesheet" href="//localhost:1313/css/app.css" /></head>

  <body class="max-w-screen-md mx-auto">
    <div class="header">
      <header
  class="flex flex-col sm:flex-row items-center gap-5 sm:gap-10 pt-16 sm:py-12"
>
   


<div class="flex-none w-20 h-20 rounded-full overflow-hidden">
  <a href="//localhost:1313/">
    <img
      srcset="/img/profile-picture_hucbf2afd9e62dc6021c155b0731b41164_625734_80x80_fill_q90_box_smart1.jpg 80w"
      src="/img/profile-picture.jpg"
      width="1080"
      height="1080"
      alt="Wiliam V. Joaquim"
    />
  </a>
</div>


  <div class="flex flex-col gap-5">
    <a href="//localhost:1313/">
  <h1 id="site-title">Wiliam V<span class="text-wpurple">.</span> Joaquim</h1>
</a>
 <nav>
  <ul class="px-4 lg:px-0">
     
    <li>
      <a
        href="/en"
        class=""
        
      >
        Posts
      </a>
      <span class="text-wpurple text-lg">.</span>
    </li>
    
    <li>
      <a
        href="https://wiliamvj.substack.com/"
        class=""
         target="_blank" 
      >
        Newsletter
      </a>
      <span class="text-wpurple text-lg">.</span>
    </li>
    
    <li>
      <a
        href="/"
        class=""
        
      >
        pt-BR
      </a>
      <span class="text-wpurple text-lg">.</span>
    </li>
    
    <li class="-mt-2 block lg:hidden"><button
  class="toggle-theme"
  aria-label="Toggle Theme"
  title="Toggle Theme"
  onclick="toggleTheme()"
>
  <span class="theme-icon light hidden dark:block">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
</svg>
  </span>
  <span class="theme-icon dark block dark:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
</svg>
  </span>
</button>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const theme = localStorage.getItem('theme');
    setTheme(theme);
  });

  function setTheme(theme) {
    const html = document.querySelector('html');
    localStorage.setItem('theme', theme);

    if (theme === 'light') {
      html.classList.remove('dark');
      document.querySelector('.theme-icon.light').style.display = 'none';
      document.querySelector('.theme-icon.dark').style.display = 'block';
    } else {
      html.classList.add('dark');
      document.querySelector('.theme-icon.dark').style.display = 'none';
      document.querySelector('.theme-icon.light').style.display = 'block';
    }
  }

  function toggleTheme() {
    const theme = localStorage.getItem('theme');
    const newTheme = theme === 'light' ? 'dark' : 'light';
    localStorage.setItem('theme', newTheme);
    setTheme(newTheme);
    reloadGiscus(newTheme);
  }

  function reloadGiscus(theme) {
    const existingGiscusScript = document.getElementById('giscus-script');
    if (existingGiscusScript) existingGiscusScript.remove();

    let giscusScript = document.createElement('script');
    const giscusTheme = theme === 'light' ? 'noborder_light' : 'noborder_dark';

    let giscusAttributes = {
      id: 'giscus-script',
      src: 'https://giscus.app/client.js',
      'data-repo': 'wiliamvj\/wiliamvj.com',
      'data-repo-id': 'R_kgDOLkkfgA',
      'data-category': 'General',
      'data-category-id': 'DIC_kwDOLkkfgM4CeL5M',
      'data-mapping': 'title',
      'data-strict': '0',
      'data-reactions-enabled':
        '1',
      'data-emit-metadata':
        '0',
      'data-input-position':
        'top',
      'data-theme': giscusTheme,
      'data-lang': 'pt',
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: '',
    };

    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusScript.setAttribute(key, value)
    );
    document.body.appendChild(giscusScript);
  }
</script>
</li>
  </ul>
</nav>

  </div>
</header>

      <div class="lg:inline-block hidden">
        <button
  class="toggle-theme"
  aria-label="Toggle Theme"
  title="Toggle Theme"
  onclick="toggleTheme()"
>
  <span class="theme-icon light hidden dark:block">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
</svg>
  </span>
  <span class="theme-icon dark block dark:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
</svg>
  </span>
</button>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const theme = localStorage.getItem('theme');
    setTheme(theme);
  });

  function setTheme(theme) {
    const html = document.querySelector('html');
    localStorage.setItem('theme', theme);

    if (theme === 'light') {
      html.classList.remove('dark');
      document.querySelector('.theme-icon.light').style.display = 'none';
      document.querySelector('.theme-icon.dark').style.display = 'block';
    } else {
      html.classList.add('dark');
      document.querySelector('.theme-icon.dark').style.display = 'none';
      document.querySelector('.theme-icon.light').style.display = 'block';
    }
  }

  function toggleTheme() {
    const theme = localStorage.getItem('theme');
    const newTheme = theme === 'light' ? 'dark' : 'light';
    localStorage.setItem('theme', newTheme);
    setTheme(newTheme);
    reloadGiscus(newTheme);
  }

  function reloadGiscus(theme) {
    const existingGiscusScript = document.getElementById('giscus-script');
    if (existingGiscusScript) existingGiscusScript.remove();

    let giscusScript = document.createElement('script');
    const giscusTheme = theme === 'light' ? 'noborder_light' : 'noborder_dark';

    let giscusAttributes = {
      id: 'giscus-script',
      src: 'https://giscus.app/client.js',
      'data-repo': 'wiliamvj\/wiliamvj.com',
      'data-repo-id': 'R_kgDOLkkfgA',
      'data-category': 'General',
      'data-category-id': 'DIC_kwDOLkkfgM4CeL5M',
      'data-mapping': 'title',
      'data-strict': '0',
      'data-reactions-enabled':
        '1',
      'data-emit-metadata':
        '0',
      'data-input-position':
        'top',
      'data-theme': giscusTheme,
      'data-lang': 'pt',
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: '',
    };

    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusScript.setAttribute(key, value)
    );
    document.body.appendChild(giscusScript);
  }
</script>

      </div>
    </div>

    <main id="content">

<article class="flex flex-col gap-10">
  <header class="flex flex-col gap-2">
    <h2 class="title-small">The power of the CLI with Golang and Cobra CLI</h2>

    <div class="meta">
      
      <time
        datetime="2023-11-15 16:40:41 -0300 -03"
        title='Wed, Nov 15, 2023, 4:40 PM -03'
      >
        Published in: 15/11/2023 - 13 minutes read
      </time>

       
    </div>
  </header>

  


  <section><p><img alt="thumbnail" src="/posts/cobra-cli-golang/thumb_efefewfweGFH567.png"></p>
<p>Today we are going to see all the power that a CLI (Command line interface) can bring to development, a CLI can help us perform tasks more effectively and lightly through commands via terminal, without needing an interface. For example, <a href="https://git-scm.com/">git</a> and <a href="https://www.docker.com/">Docker</a> , we practically use their CLI all the time, when we execute a <code>git commit -m &quot;commit message&quot;</code> or <code>docker ps -a</code> we are using a CLI. I&rsquo;m going to leave an <a href="https://dev.to/bboyakers/what-is-a-cli-53a6">article</a> that details what a CLI is.</p>
<p>In this post we will create a boilerplate for Go projects, where with just 1 command via CLI, the entire project structure will be created.</p>
<h2 id="go-e-cli">Go e CLI</h2>
<p>Well, Go is extremely powerful for building CLI, it is one of the most used languages for this, no wonder it is widely used among DevOps, precisely because it is so powerful and simple.</p>
<p>Just to give an example of the power of Go for CLI builds, you may have already used or at least heard of <a href="https://www.docker.com/">Docker</a>, <a href="https://github.com/kubernetes/kubernetes">Kubernetes</a>, <a href="https://github.com/prometheus/prometheus">Prometheus</a>, <a href="https://github.com/hashicorp/terraform">Terraform</a>, but what do they all have in common? They all have a large part of their usability via CLI and are developed in Go 🐿.</p>
<h2 id="starting-a-cli-with-go">Starting a CLI with Go</h2>
<p>Go has a package to handle CLI natively. But let&rsquo;s cover it quickly, the purpose of the post is to use the <a href="https://github.com/spf13/cobra">Cobra CLI</a> package, which will facilitate the construction of our CLI.</p>
<p>Let&rsquo;s use the <a href="https://pkg.go.dev/flag">flag</a> package</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  <span style="color:#ff79c6">package</span> main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">import</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;flag&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;time&#34;</span>
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>() {
</span></span><span style="display:flex;"><span>    dateFlag <span style="color:#ff79c6">:=</span> flag.<span style="color:#50fa7b">Bool</span>(<span style="color:#f1fa8c">&#34;date&#34;</span>, <span style="color:#ff79c6">false</span>, <span style="color:#f1fa8c">&#34;Display the current date&#34;</span>)
</span></span><span style="display:flex;"><span>    flag.<span style="color:#50fa7b">Parse</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> <span style="color:#ff79c6">*</span>dateFlag {
</span></span><span style="display:flex;"><span>      currentTime <span style="color:#ff79c6">:=</span> time.<span style="color:#50fa7b">Now</span>()
</span></span><span style="display:flex;"><span>      fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Current date&#34;</span>, currentTime.<span style="color:#50fa7b">Format</span>(<span style="color:#f1fa8c">&#34;2006-01-02 15:04:05&#34;</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>In this example above, we created a <code>date</code> flag, passing this flag returns the current date, something very simple, running the project with <code>go run main.go --date</code>, we will have the value <code>Current date 2023-11 -15 12:26:14</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  dateFlag <span style="color:#ff79c6">:=</span> flag.<span style="color:#50fa7b">Bool</span>(<span style="color:#f1fa8c">&#34;date&#34;</span>, <span style="color:#ff79c6">false</span>, <span style="color:#f1fa8c">&#34;Display the current date&#34;</span>)
</span></span></code></pre></div><p>In the code above, we create a flag, the first argument <code>date</code> is the flag name, false as the default value means that if you run the program without explicitly specifying the <code>--date</code> flag, the value associated with <code>dateFlag</code> will be <code>false</code>. This allows the program to have a specific default behavior if this flag is not provided when the program is executed, while the third argument <code>Display the current date</code> is the detail of what this flag does.</p>
<p>If we run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  go run main.go -h
</span></span></code></pre></div><p>We received:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  -date
</span></span><span style="display:flex;"><span>    Display the current date
</span></span></code></pre></div><p>We can use the flag with <code>--date</code> or <code>-date</code>, Go already does the automatic check.
We can make our entire boilerplate with this approach, but let&rsquo;s make it a little easier and use the <a href="https://github.com/spf13/cobra">Cobra CLI</a> package.</p>
<h2 id="cobra-cli">Cobra CLI</h2>
<p>This package is widely used for powerful CLI builds, it is used for example for <a href="https://kubernetes.io/">Kubernetes CLI</a> and <a href="https://github.com/cli/cli">GitHub CLI</a>, in addition to offering some cool features such as automatic completion of <a href="https://pt.wikipedia.org/wiki/Shell_(computa%C3%A7%C3%A3o)">shell</a>, automatic recognition of flags (the tags) , and you can use <code>-h</code> or <code>-help</code> for example, among other facilities.</p>
<h2 id="creating-the-project">Creating the project</h2>
<p>Our project will be very simple, we will only have <code>main.go</code> and <code>go.mod</code> and consequently our <code>go.sum</code>, we will start the project with the command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  go mod init github.com/wiliamvj/boilerplate-cli-go
</span></span></code></pre></div><p><em>You can use whatever name you want</em>, by convention we generally create the name of the project as the link to our repository.</p>
<p>ending up like this:</p>
<p><img alt="Project structure" src="/posts/cobra-cli-golang/iudfiRET56df.png"></p>
<p>Now let&rsquo;s download the Cobra package with the command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  go get -u github.com/spf13/cobra@latest
</span></span></code></pre></div><p>The boilerplate will have a very simple structure, the idea is to create a structure widely used by the Go community, see how it will look:</p>
<p><img alt="Project structure" src="/posts/cobra-cli-golang/dfgI9dfRNj6456.png"></p>
<ul>
<li><strong>cmd</strong>: <a href="https://github.com/golang-standards/project-layout/tree/master/cmd">here</a> where we will leave the <code>main.go</code> that starts our app.</li>
<li><strong>internal</strong>: <a href="https://github.com/golang-standards/project-layout/tree/master/internal">in this paste</a> where all the code for our application should be located.
<ul>
<li><strong>handler</strong>: Here will be the files responsible for receiving our http requests, you may also know them as controllers.
<ul>
<li><strong>routes</strong>: Here we will organize our routes.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>It&rsquo;s not the complete framework, we&rsquo;re just creating the basics for our example.</p>
<p>All of our code will focus on our <code>main.go</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  <span style="color:#ff79c6">package</span> main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">import</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;github.com/spf13/cobra&#34;</span>
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> rootCommand = <span style="color:#ff79c6">&amp;</span>cobra.Command{}
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> projectName, projectPath <span style="color:#8be9fd">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> cmd = <span style="color:#ff79c6">&amp;</span>cobra.Command{
</span></span><span style="display:flex;"><span>      Use:   <span style="color:#f1fa8c">&#34;create&#34;</span>,
</span></span><span style="display:flex;"><span>      Short: <span style="color:#f1fa8c">&#34;Create boilerplate for a new project&#34;</span>,
</span></span><span style="display:flex;"><span>      Run: <span style="color:#8be9fd;font-style:italic">func</span>(cmd <span style="color:#ff79c6">*</span>cobra.Command, args []<span style="color:#8be9fd">string</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4">// validations
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>        <span style="color:#ff79c6">if</span> projectName <span style="color:#ff79c6">==</span> <span style="color:#f1fa8c">&#34;&#34;</span> {
</span></span><span style="display:flex;"><span>          fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;You must supply a project name.&#34;</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">return</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> projectPath <span style="color:#ff79c6">==</span> <span style="color:#f1fa8c">&#34;&#34;</span> {
</span></span><span style="display:flex;"><span>          fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;You must supply a project path.&#34;</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">return</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Creating project...&#34;</span>)
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cmd.<span style="color:#50fa7b">Flags</span>().<span style="color:#50fa7b">StringVarP</span>(<span style="color:#ff79c6">&amp;</span>projectName, <span style="color:#f1fa8c">&#34;name&#34;</span>, <span style="color:#f1fa8c">&#34;n&#34;</span>, <span style="color:#f1fa8c">&#34;&#34;</span>, <span style="color:#f1fa8c">&#34;Name of the project&#34;</span>)
</span></span><span style="display:flex;"><span>    cmd.<span style="color:#50fa7b">Flags</span>().<span style="color:#50fa7b">StringVarP</span>(<span style="color:#ff79c6">&amp;</span>projectPath, <span style="color:#f1fa8c">&#34;path&#34;</span>, <span style="color:#f1fa8c">&#34;p&#34;</span>, <span style="color:#f1fa8c">&#34;&#34;</span>, <span style="color:#f1fa8c">&#34;Path where the project will be created&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rootCommand.<span style="color:#50fa7b">AddCommand</span>(cmd)
</span></span><span style="display:flex;"><span>    rootCommand.<span style="color:#50fa7b">Execute</span>()
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>The code above is just to start our CLI, we will only have two variables:</p>
<ul>
<li><code>projectName</code>: it will be the name of our project that we will capture in the input of our CLI.</li>
<li><code>projectPath</code>: will be the path where the boilerplate will be created, we will capture it in the CLI input.</li>
<li><code>&amp;cobra.Command{}</code>: starts the Cobra cli.</li>
<li><code>Run:</code> It receives an anonymous function, it is in this function that we capture the user input entered in the CLI and validate it, our validation is simple, we just check if the <code>projectName</code> and <code>projectPath</code> are not null.</li>
<li><code>cmd.Flags()</code>: Here we create the flags with flags, so you can use <code>-name</code> or <code>-n</code>, both will be accepted, we also include the description of what this flag does.</li>
<li><code>rootCommand.AddCommand(cmd)</code>: We add our <code>cmd</code> to the <code>rootCommand</code> created at the beginning of our <code>main.go</code>.</li>
<li><code>rootCommand.Execute()</code>: Finally, we run our CLI.</li>
</ul>
<p>That&rsquo;s all we need to get our CLI working, of course without our boilerplate logic, but with that we can use it via the terminal. Lets test!</p>
<p><em>We can build the project or use it without build</em></p>
<p>With build:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  go build -o cli .
</span></span></code></pre></div><p>A file called <code>cli</code> will be created at the root, we will run the binary from our CLI:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  ./cli --help
</span></span></code></pre></div><p>We will have an output like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  Usage:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">[</span>command<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Available Commands:
</span></span><span style="display:flex;"><span>    completion  Generate the autocompletion script <span style="color:#ff79c6">for</span> the specified shell
</span></span><span style="display:flex;"><span>    create      Create boilerplate <span style="color:#ff79c6">for</span> a new project
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">help</span>        Help about any <span style="color:#8be9fd;font-style:italic">command</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Flags:
</span></span><span style="display:flex;"><span>    -h, --help   <span style="color:#8be9fd;font-style:italic">help</span> <span style="color:#ff79c6">for</span> this <span style="color:#8be9fd;font-style:italic">command</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Use <span style="color:#f1fa8c">&#34; [command] --help&#34;</span> <span style="color:#ff79c6">for</span> more information about a command.
</span></span></code></pre></div><p>See that we already have tips on how to use the command we created <code>create Create boilerplate for a new project</code>, if we run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  ./cli create --help
</span></span></code></pre></div><p>We will have:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  Create boilerplate <span style="color:#ff79c6">for</span> a new project
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Usage:
</span></span><span style="display:flex;"><span>    create <span style="color:#ff79c6">[</span>flags<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Flags:
</span></span><span style="display:flex;"><span>    -h, --help          <span style="color:#8be9fd;font-style:italic">help</span> <span style="color:#ff79c6">for</span> create
</span></span><span style="display:flex;"><span>    -n, --name string   Name of the project
</span></span><span style="display:flex;"><span>    -p, --path string   Path where the project will be created
</span></span></code></pre></div><p>Let&rsquo;s run it now by passing our flags:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  ./cli create -n my-project -p ~/documents
</span></span></code></pre></div><p>We will have our <code>Creating project...</code> message, indicating that it worked, but nothing happens yet, as we have not implemented the logic.</p>
<p>We can also create subcommands, new flags, new validations, but for now let&rsquo;s leave it like that, if you want you can create more options, see <a href="https://pkg.go.dev/github.com/spf13/cobra#section-documentation">documentation</a> of the Cobra package.</p>
<h2 id="creating-the-boilerplate">Creating the boilerplate</h2>
<p>With our CLI ready, let&rsquo;s now go through the boilerplate logic, which is very simple, we will have to create the folders, then we will need to create the files and finally open the files and insert the code, for this we will use the <a href="https://pkg.go.dev/os">os</a> package a lot of Go, which allows you to access operating system resources.</p>
<p>Let&rsquo;s first get the main directory and validate if there already exists a folder with the name that will be used to create our project:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  globalPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(projectPath, projectName)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> _, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Stat</span>(globalPath); err <span style="color:#ff79c6">==</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Project directory already exists.&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span>
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>If we pass the <code>projectName</code> as <strong>test</strong> and the <code>projectPath</code> as <code>/documents</code>, this validates that there is no other folder in <strong>documents</strong> called <strong>test</strong>, if there is we return and return a error message.</p>
<p>You can modify and, if there is a folder with the same name, change the name of <code>projectName</code> or delete the folder that already exists, but for now we will just return an error.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(globalPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>In this part, we will create the directory in the path that was entered using our <code>-p</code> flag, if we use:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  ./cli create -n my-project -p ~/documents
</span></span></code></pre></div><h3 id="starting-go">Starting Go</h3>
<p>A folder called <strong>my-project</strong> will be created in the <strong>documents</strong> directory.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  startGo <span style="color:#ff79c6">:=</span> exec.<span style="color:#50fa7b">Command</span>(<span style="color:#f1fa8c">&#34;go&#34;</span>, <span style="color:#f1fa8c">&#34;mod&#34;</span>, <span style="color:#f1fa8c">&#34;init&#34;</span>, projectName)
</span></span><span style="display:flex;"><span>  startGo.Dir = globalPath
</span></span><span style="display:flex;"><span>  startGo.Stdout = os.Stdout
</span></span><span style="display:flex;"><span>  startGo.Stderr = os.Stderr
</span></span><span style="display:flex;"><span>  err <span style="color:#ff79c6">:=</span> startGo.<span style="color:#50fa7b">Run</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>In the code above we execute the command to start the project in Go, it will be created in the root directory we chose, in our example it will run within <strong>documents/my-project</strong>, this will create the file <code>go.mod</code> and will set the module name to <strong>my-projects</strong>.</p>
<ul>
<li><code>exec.Command</code>: Create the command that we will run in the terminal, in this case it will be <code>go mod init my-project</code>.</li>
<li><code>startGo.Dir</code>: Determine where this command will run, in the example it will run in <strong>documents/my-project</strong>.</li>
<li><code>startGo.Stdout</code>: It will place the command return in the terminal, it will return <code>go: creating new go.mod: module my-project</code>.</li>
<li><code>startGo.Stderr</code>: Redirects the output of a possible error to where the program is being executed.</li>
<li><code>startGo.Run()</code>: Finally, we execute everything.</li>
</ul>
<h3 id="creating-the-folders">Creating the folders</h3>
<p>Let&rsquo;s create our folders, they are <strong>cmd</strong>, <strong>internal</strong>, <strong>handler</strong> and <strong>routes</strong>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  cmdPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(globalPath, <span style="color:#f1fa8c">&#34;cmd&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(cmdPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  internalPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(globalPath, <span style="color:#f1fa8c">&#34;internal&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(internalPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  handlerPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(internalPath, <span style="color:#f1fa8c">&#34;handler&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(handlerPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  routesPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(handlerPath, <span style="color:#f1fa8c">&#34;routes&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(routesPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>This code above creates the necessary folders in sequence, using <code>os.Mkdir</code>, (<a href="https://pkg.go.dev/os#Mkdir">see the docs</a>), for the <strong>handler</strong> and <strong>folders</strong> <strong>routes</strong>, we need to access the <strong>internal</strong> folder, as they will be created within <strong>internal</strong>, for this we use <code>Join</code> to merge the path, resulting in:</p>
<ul>
<li><code>handlerPath</code>: <strong>documents/my-project/internal</strong></li>
<li><code>routesPath</code>: <strong>documents/my-project/internal/handler</strong></li>
</ul>
<h3 id="creating-the-files">Creating the files</h3>
<p>With the folders created, let&rsquo;s create the files, for example we will create <code>main.go</code> of course and <code>routes.go</code>, inside the <strong>routes</strong> folder.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  mainPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(cmdPath, <span style="color:#f1fa8c">&#34;main.go&#34;</span>)
</span></span><span style="display:flex;"><span>  mainFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Create</span>(mainPath)
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">defer</span> mainFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  routesFilePath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(routesPath, <span style="color:#f1fa8c">&#34;routes.go&#34;</span>)
</span></span><span style="display:flex;"><span>  routesFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Create</span>(routesFilePath)
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">defer</span> routesFile.<span style="color:#50fa7b">Close</span>()
</span></span></code></pre></div><p>Above we created the <code>main.go</code> and <code>routes.go</code> files.</p>
<ul>
<li><code>mainPath</code>: we determine the path, using the <code>mainPath</code> used to create the <strong>cmd</strong> folder.</li>
<li><code>os.Create(mainPath)</code>: we create the file, in the specified directory. (<strong>documents/my-project/cmd</strong>)</li>
<li><code>routesFilePath</code>: we determine the path, using the <code>routesPath</code> used to create the <strong>routes</strong> folder.</li>
<li><code>os.Create(routesFilePath)</code>: We create the file, in the specified directory. (<strong>documents/my-project/internal/handler/routes</strong>)</li>
<li><code>defer routesFile.Close()</code>: We close the file, <code>defer</code>, using this GO reserved word, we guarantee that the last thing to happen is to close the file. See more about <code>defer</code> <a href="https://go.dev/blog/defer-panic-and-recover">here</a>.</li>
</ul>
<h3 id="writing-to-files">Writing to files</h3>
<p>With the folders and files created, now let&rsquo;s write to the <code>main.go</code> and <code>routes.go</code> files, let&rsquo;s do something simple, just for example, to organize better, we will separate them into functions that write to each file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">WriteMainFile</span>(mainPath <span style="color:#8be9fd">string</span>) <span style="color:#8be9fd">error</span> {
</span></span><span style="display:flex;"><span>    packageContent <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd;font-style:italic">byte</span>(<span style="color:#f1fa8c">`package main
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  import &#34;fmt&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  func main() {
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    fmt.Println(&#34;Hello World!&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  }
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  `</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    mainFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">OpenFile</span>(mainPath, os.O_WRONLY|os.O_APPEND, <span style="color:#bd93f9">0666</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">return</span> err
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">defer</span> mainFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    _, err = mainFile.<span style="color:#50fa7b">Write</span>(packageContent)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">return</span> err
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">nil</span>
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>In the function above, we have <code>mainPath</code> as a parameter, which is the file path, we will add a simple code, which will just log a <em>Hello World</em>.</p>
<ul>
<li><code>packageContent</code>: We create the code that will be written to the file.</li>
<li><code>os.OpenFile</code>: We open the file specified in <code>mainPath</code>.</li>
<li><code>defer mainFile.Close()</code>: We close the file last with <code>defer</code>.</li>
<li><code>mainFile.Write</code>: Finally, we write it to the file, and handle the error if any.</li>
</ul>
<p><code>O_WRONLY</code> and <code>O_APPEND</code>, are constants used to define the opening mode of a file, <code>O_WRONLY</code> indicates that the file will be opened only for writing, <code>O_APPEND</code> means that the added content will be added to the end of the file, without overwrite existing content.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">WriteRoutesFile</span>(routesFilePath <span style="color:#8be9fd">string</span>) <span style="color:#8be9fd">error</span> {
</span></span><span style="display:flex;"><span>    packageContent <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd;font-style:italic">byte</span>(<span style="color:#f1fa8c">`package routes
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  // your code here
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  `</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    routesFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">OpenFile</span>(routesFilePath, os.O_WRONLY|os.O_APPEND, <span style="color:#bd93f9">0666</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">return</span> err
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">defer</span> routesFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    _, err = routesFile.<span style="color:#50fa7b">Write</span>(packageContent)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">return</span> err
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">nil</span>
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>We do the same for the <code>routes.go</code> file.</p>
<p>Now just call the new functions in the <code>main</code> function, looking like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  mainPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(cmdPath, <span style="color:#f1fa8c">&#34;main.go&#34;</span>)
</span></span><span style="display:flex;"><span>  mainFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Create</span>(mainPath)
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">defer</span> mainFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> <span style="color:#50fa7b">WriteMainFile</span>(mainPath); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  routesFilePath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(routesPath, <span style="color:#f1fa8c">&#34;routes.go&#34;</span>)
</span></span><span style="display:flex;"><span>  routesFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Create</span>(routesFilePath)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">defer</span> routesFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> <span style="color:#50fa7b">WriteRoutesFile</span>(routesFilePath); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>    log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><h3 id="final-code">Final code</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>  <span style="color:#ff79c6">package</span> main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">import</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;os/exec&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;path/filepath&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;github.com/spf13/cobra&#34;</span>
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> rootCommand = <span style="color:#ff79c6">&amp;</span>cobra.Command{}
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> projectName, projectPath <span style="color:#8be9fd">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> cmd = <span style="color:#ff79c6">&amp;</span>cobra.Command{
</span></span><span style="display:flex;"><span>      Use:   <span style="color:#f1fa8c">&#34;create&#34;</span>,
</span></span><span style="display:flex;"><span>      Short: <span style="color:#f1fa8c">&#34;Create boilerplate for a new project&#34;</span>,
</span></span><span style="display:flex;"><span>      Run: <span style="color:#8be9fd;font-style:italic">func</span>(cmd <span style="color:#ff79c6">*</span>cobra.Command, args []<span style="color:#8be9fd">string</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> projectName <span style="color:#ff79c6">==</span> <span style="color:#f1fa8c">&#34;&#34;</span> {
</span></span><span style="display:flex;"><span>          fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;You must supply a project name.&#34;</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">return</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> projectPath <span style="color:#ff79c6">==</span> <span style="color:#f1fa8c">&#34;&#34;</span> {
</span></span><span style="display:flex;"><span>          fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;You must supply a project path.&#34;</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">return</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Creating project...&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        globalPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(projectPath, projectName)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> _, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Stat</span>(globalPath); err <span style="color:#ff79c6">==</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          fmt.<span style="color:#50fa7b">Println</span>(<span style="color:#f1fa8c">&#34;Project directory already exists.&#34;</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">return</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(globalPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        startGo <span style="color:#ff79c6">:=</span> exec.<span style="color:#50fa7b">Command</span>(<span style="color:#f1fa8c">&#34;go&#34;</span>, <span style="color:#f1fa8c">&#34;mod&#34;</span>, <span style="color:#f1fa8c">&#34;init&#34;</span>, projectName)
</span></span><span style="display:flex;"><span>        startGo.Dir = globalPath
</span></span><span style="display:flex;"><span>        startGo.Stdout = os.Stdout
</span></span><span style="display:flex;"><span>        startGo.Stderr = os.Stderr
</span></span><span style="display:flex;"><span>        err <span style="color:#ff79c6">:=</span> startGo.<span style="color:#50fa7b">Run</span>()
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        cmdPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(globalPath, <span style="color:#f1fa8c">&#34;cmd&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(cmdPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        internalPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(globalPath, <span style="color:#f1fa8c">&#34;internal&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(internalPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        handlerPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(internalPath, <span style="color:#f1fa8c">&#34;handler&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(handlerPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        routesPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(handlerPath, <span style="color:#f1fa8c">&#34;routes&#34;</span>)
</span></span><span style="display:flex;"><span>        fmt.<span style="color:#50fa7b">Println</span>(routesPath)
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Mkdir</span>(routesPath, os.ModePerm); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        mainPath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(cmdPath, <span style="color:#f1fa8c">&#34;main.go&#34;</span>)
</span></span><span style="display:flex;"><span>        mainFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Create</span>(mainPath)
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">defer</span> mainFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> <span style="color:#50fa7b">WriteMainFile</span>(mainPath); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        routesFilePath <span style="color:#ff79c6">:=</span> filepath.<span style="color:#50fa7b">Join</span>(routesPath, <span style="color:#f1fa8c">&#34;routes.go&#34;</span>)
</span></span><span style="display:flex;"><span>        routesFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">Create</span>(routesFilePath)
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">defer</span> routesFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">:=</span> <span style="color:#50fa7b">WriteRoutesFile</span>(routesFilePath); err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>          log.<span style="color:#50fa7b">Fatal</span>(err)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cmd.<span style="color:#50fa7b">Flags</span>().<span style="color:#50fa7b">StringVarP</span>(<span style="color:#ff79c6">&amp;</span>projectName, <span style="color:#f1fa8c">&#34;name&#34;</span>, <span style="color:#f1fa8c">&#34;n&#34;</span>, <span style="color:#f1fa8c">&#34;&#34;</span>, <span style="color:#f1fa8c">&#34;Name of the project&#34;</span>)
</span></span><span style="display:flex;"><span>    cmd.<span style="color:#50fa7b">Flags</span>().<span style="color:#50fa7b">StringVarP</span>(<span style="color:#ff79c6">&amp;</span>projectPath, <span style="color:#f1fa8c">&#34;path&#34;</span>, <span style="color:#f1fa8c">&#34;p&#34;</span>, <span style="color:#f1fa8c">&#34;&#34;</span>, <span style="color:#f1fa8c">&#34;Path where the project will be created&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    rootCommand.<span style="color:#50fa7b">AddCommand</span>(cmd)
</span></span><span style="display:flex;"><span>    rootCommand.<span style="color:#50fa7b">Execute</span>()
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">WriteMainFile</span>(mainPath <span style="color:#8be9fd">string</span>) <span style="color:#8be9fd">error</span> {
</span></span><span style="display:flex;"><span>    packageContent <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd;font-style:italic">byte</span>(<span style="color:#f1fa8c">`package main
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  import &#34;fmt&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  func main() {
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    fmt.Println(&#34;Hello World!&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  }
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  `</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    mainFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">OpenFile</span>(mainPath, os.O_WRONLY|os.O_APPEND, <span style="color:#bd93f9">0666</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">return</span> err
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">defer</span> mainFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    _, err = mainFile.<span style="color:#50fa7b">Write</span>(packageContent)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">return</span> err
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">nil</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">WriteRoutesFile</span>(routesFilePath <span style="color:#8be9fd">string</span>) <span style="color:#8be9fd">error</span> {
</span></span><span style="display:flex;"><span>    packageContent <span style="color:#ff79c6">:=</span> []<span style="color:#8be9fd;font-style:italic">byte</span>(<span style="color:#f1fa8c">`package routes
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    // your code here
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  `</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    routesFile, err <span style="color:#ff79c6">:=</span> os.<span style="color:#50fa7b">OpenFile</span>(routesFilePath, os.O_WRONLY|os.O_APPEND, <span style="color:#bd93f9">0666</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">return</span> err
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">defer</span> routesFile.<span style="color:#50fa7b">Close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    _, err = routesFile.<span style="color:#50fa7b">Write</span>(packageContent)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> err <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">nil</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">return</span> err
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">nil</span>
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><h2 id="testing-the-cli">Testing the CLI</h2>
<p>Well, with everything ready, let&rsquo;s test it! To do this, we will compile our code with the good old <code>go build</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  go build -o cli .
</span></span></code></pre></div><p>Running the CLI:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  ./cli create -n my-project -p ~/documents
</span></span></code></pre></div><p>Let&rsquo;s get the answer:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  Creating project...
</span></span><span style="display:flex;"><span>  go: creating new go.mod: module my-project
</span></span></code></pre></div><p>Accessing our project and opening it in Visual Studio Code with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">cd</span> /documents/my-project <span style="color:#ff79c6">&amp;&amp;</span> code .
</span></span></code></pre></div><p>We will have our boilerplate created:</p>
<p><img alt="Final Project" src="/posts/cobra-cli-golang/fg&gfhUughp0.png"></p>
<p>If we run the project created via CLI, we can see that everything works.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  go run cmd/main.go
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  output:
</span></span><span style="display:flex;"><span>    Hello World!
</span></span></code></pre></div><p>With this we finish creating our CLI that creates a boilerplate.</p>
<h2 id="final-considerations">Final considerations</h2>
<p>Our boilerplate could be even more automated, we could, for example, install a package like the <a href="https://go-chi.io/">Go Chi</a> package, creating standard endpoints, all using the CLI, you can even create your own framework, have you ever thought that with just one command your initial project is already configured?</p>
<p>With knowledge in CLI creation, you have great power in your hands!</p>
<h2 id="repository-link">Repository link</h2>
<p><a href="https://github.com/wiliamvj/boilerplate-cli-go/blob/main/main.go">repository</a> of the project</p>
</section>

  

 <div class="giscus-comment">
  <script>
    let theme = localStorage.getItem('theme');
    const giscusTheme = theme === 'light' ? 'noborder_light' : 'noborder_dark';
    var currentUrl = window.location.href;
    const lang = currentUrl.indexOf('/en/') !== -1 ? 'en' : 'pt';
    let giscusAttributes = {
      id: 'giscus-script',
      src: 'https://giscus.app/client.js',
      'data-repo': 'wiliamvj\/wiliamvj.com',
      'data-repo-id': 'R_kgDOLkkfgA',
      'data-category': 'General',
      'data-category-id': 'DIC_kwDOLkkfgM4CeL5M',
      'data-mapping': 'title',
      'data-strict': '0',
      'data-reactions-enabled':
        '1',
      'data-emit-metadata':
        '0',
      'data-input-position':
        'top',
      'data-theme': theme,
      'data-lang': lang,
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: '',
    };

    let giscusScript = document.createElement('script');
    const article = document.querySelector('article');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusScript.setAttribute(key, value)
    );
    article.appendChild(giscusScript);
  </script>
</div>
 


 


  <footer>
    
  </footer>
</article>

</main><footer class="pt-5 pb-6 lg:grid lg:gap-3 lg:grid-cols-2">
  <div class="text-xs font-semibold text-gray-500 order-2 sm:order-1">
  © 2024 —
  <a href="//localhost:1313/">Wiliam V. Joaquim</a>
  <span class="font-normal">with</span>
  <a
    href="https://github.com/nixentric/Lowkey-Hugo-Theme"
    target="_blank"
    rel="noopener noreferrer"
  >
    Lowkey
  </a>
</div>
 <div class="order-1 sm:order-2 f-social">
  <ul class="flex sm:justify-end gap-5">
     
    <li>
      <a href="https://www.linkedin.com/in/wiliamvj/" target="_blank" rel="noopener noreferrer"
        >linkedin</a
      >
    </li>
    
    <li>
      <a href="https://twitter.com/wiliamjoaquim" target="_blank" rel="noopener noreferrer"
        >x</a
      >
    </li>
    
    <li>
      <a href="https://github.com/wiliamvj" target="_blank" rel="noopener noreferrer"
        >github</a
      >
    </li>
    
    <li>
      <a href="https://dev.to/wiliamvj" target="_blank" rel="noopener noreferrer"
        >dev.to</a
      >
    </li>
     
  </ul>
</div>

</footer>

<button
  type="button"
  data-twe-ripple-init
  data-twe-ripple-color="light"
  class="!fixed bottom-5 end-5 hidden rounded-md bg-wpurple p-3 text-xs font-medium uppercase leading-tight text-white shadow-md transition duration-150 ease-in-out hover:bg-wpurplehover hover:shadow-lg focus:bg-wpurplehover focus:shadow-lg focus:outline-none focus:ring-0 active:bg-wpurple active:shadow-lg"
  id="btn-back-to-top"
>
  <span class="[&>svg]:w-4">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="3"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"
      />
    </svg>
  </span>
</button>

<script defer>
  const mybutton = document.getElementById('btn-back-to-top');
  const scrollFunction = () => {
    if (
      document.body.scrollTop > 20 ||
      document.documentElement.scrollTop > 20
    ) {
      mybutton.classList.remove('hidden');
    } else {
      mybutton.classList.add('hidden');
    }
  };
  const backToTop = () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  mybutton.addEventListener('click', backToTop);
  window.addEventListener('scroll', scrollFunction);
</script>
</body>
</html>
